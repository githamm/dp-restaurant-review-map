<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.css" />
	 <!--[if lte IE 8]>
	     <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.ie.css" />
	 <![endif]-->
	</head>
  <body>
	
			<!--

				This example uses:
					Leaflet
					titleColumn & fields parameters to put content in popups

			-->
			
    <div id="map" style="height: 500px; width: 600px"></div>

    <script type="text/javascript" src="common/tabletop.js"></script>
		<script src="http://cdn.leafletjs.com/leaflet-0.4.5/leaflet.js"></script>

    <script type="text/javascript" src="../src/mapsheet.js"></script>

    <script type="text/javascript">
    	window.onload = function() { init() };

      var public_spreadsheet_url = 'https://docs.google.com/spreadsheet/pub?key=0AtG9_k99Q_n6dGRTMzVtNmdoclNHdXVfRWl6YkFoclE&output=html';

      function init() {
        Mapsheet( { key: public_spreadsheet_url,
											element: "map",
											titleColumn: "town",
											provider: Mapsheet.Providers.Leaflet,
											fields: [ "Town", "Lat", "Long", "Street Address" ]
									} );
      }

      document.write("The published spreadsheet is located at <a target='_new' href='" + public_spreadsheet_url + "'>" + public_spreadsheet_url + "</a>");        
    </script>
  </body>
</html>
